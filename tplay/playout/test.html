<script>
  async function initPlayer() {
    const video = document.getElementById('video');
    const player = new shaka.Player(video);

    const manifestUri = "https://d1g8wgjurz8via.cloudfront.net/bpk-tv/Koreandramas2/default/manifest.mpd";
    const keyId = "ed197e7253c04946903f03bad9afac91";
    const key   = "99ebb8683ea74b70a9fda1cbdc2cc1b4";

    player.configure({
      drm: {
        clearKeys: {
          [keyId]: key
        }
      }
    });

    try {
      await player.load(manifestUri);
      await video.play();
      // Force fullscreen
      if (video.requestFullscreen) {
        video.requestFullscreen({ navigationUI: "hide" });
      }
    } catch (e) {
      console.error("Error loading video:", e);
    }
  }

  document.addEventListener('DOMContentLoaded', initPlayer);
</script>
